# 📊 웹앱에서 수집하는 데이터 목록

Google Forms 설문지를 만들 때 참고하세요. 총 **27개 필드**가 전송됩니다.

## 🔍 데이터 필드 상세 목록

### 1. 기본 정보 (2개)
| 필드명 | 데이터 타입 | 설명 | 예시 |
|--------|------------|------|------|
| `userId` | 문자열 | 자동 생성된 고유 사용자 ID | `user_1699876543210_abc123` |
| `timestamp` | 문자열 (ISO 8601) | 제출 시간 | `2024-11-10T15:30:45.123Z` |

### 2. 악곡 정보 (5개)
| 필드명 | 데이터 타입 | 설명 | 예시 |
|--------|------------|------|------|
| `title` | 문자열 | 악곡 제목 | `마왕` |
| `url` | 문자열 (URL) | 유튜브 링크 | `https://www.youtube.com/watch?v=...` |
| `artist` | 문자열 | 가수/연주자 이름 | `디트리히 피셔-디스카우` |
| `composer` | 문자열 | 작곡가 (빈 값 가능) | `슈베르트` |
| `musicGenre` | 문자열 | 음악 장르 선택값 | `서양음악`, `대중음악`, `국악`, `세계음악` |
| `ensembleType1` | 문자열 | 연주 형태 | `기악곡`, `성악곡`, `잘 모르겠음` |

### 3. 1단계: 감각적 감상 (3개)
| 필드명 | 데이터 타입 | 설명 | 예시 |
|--------|------------|------|------|
| `senseKeywords` | 문자열 (쉼표 구분) | 선택한 감성 키워드 (최대 3개) | `긴장, 쓸쓸함, 역동적` |
| `senseText` | 문자열 (최대 50자) | 느낌/분위기 자유 서술 | `고요함 속에서 불안감이 느껴집니다.` |
| `senseColor` | 문자열 (Hex 색상) | 핵심 색상 | `#3B82F6`, `#EF4444` |

### 4. 2단계: 분석적 감상 (2개)
| 필드명 | 데이터 타입 | 설명 | 예시 |
|--------|------------|------|------|
| `tech` | 문자열 (장문) | 기술(소리): 음색, 셈여림, 빠르기 관찰 | `피아노가 셋잇단음표로 반복되어 말발굽 소리처럼 들립니다.` |
| `analysis` | 문자열 (장문) | 분석(패턴): 리듬, 멜로디, 형식, 화성 파악 | `피아노의 셋잇단음표 리듬이 계속 반복되어 긴장감을 조성합니다.` |

### 5. 3단계: 심미적 감상 (2개)
| 필드명 | 데이터 타입 | 설명 | 예시 |
|--------|------------|------|------|
| `interpretation` | 문자열 (장문) | 해석(의미): 작곡 배경, 전달 메시지 | `낭만주의 시대의 초자연적 존재와 공포를 반영합니다.` |
| `evaluation` | 문자열 (장문) | 평가(가치): 예술적 평가, 생활 속 활용 | `한 편의 짧은 오페라 같아 예술적 가치가 높습니다.` |

### 6. AI 분석 점수 (3개)
| 필드명 | 데이터 타입 | 설명 | 범위 |
|--------|------------|------|------|
| `senseScore` | 숫자 | 감각적 민감도 점수 | 1-100 |
| `analysisScore` | 숫자 | 분석적 이해도 점수 | 1-100 |
| `aestheticScore` | 숫자 | 심미적 통찰력 점수 | 1-100 |

### 7. AI 피드백 내용 (3개)
| 필드명 | 데이터 타입 | 설명 | 예시 |
|--------|------------|------|------|
| `goodPoints` | 문자열 (장문) | AI가 분석한 잘된 점 | `감각적 키워드 선택이 곡의 분위기와 잘 일치합니다.` |
| `badPoints` | 문자열 (장문) | AI가 분석한 보완할 점 | `분석 단계에서 음악적 근거가 부족합니다.` |
| `structuredQuestion` | 문자열 (장문) | AI의 구조화된 심화 질문 | `피아노 리듬이 긴장감을 만드는 이유를 구체적으로 설명할 수 있나요?` |

### 8. 사용자 피드백 입력 (1개)
| 필드명 | 데이터 타입 | 설명 | 예시 |
|--------|------------|------|------|
| `feedbackInput` | 문자열 (장문) | AI 질문에 대한 사용자 보완 답변 | `피아노의 셋잇단음표가 빠르게 반복되면서...` |

### 9. 최종 결과물 (4개)
| 필드명 | 데이터 타입 | 설명 | 예시 |
|--------|------------|------|------|
| `finalAppreciation` | 문자열 (장문) | AI가 생성한 최종 감상문 | `슈베르트의 "마왕"은 피아노의 셋잇단음표 리듬이...` |
| `performanceStrategy` | 문자열 (장문) | 연주 영역 활용 전략 | `리듬 패턴 인지 능력을 향상시키기 위해...` |
| `appreciationStrategy` | 문자열 (장문) | 감상 영역 활용 전략 | `다음 감상에서는 화성 변화에 집중해보세요.` |
| `compositionStrategy` | 문자열 (장문) | 창작 영역 활용 전략 | `발견한 반복 패턴을 활용하여...` |

---

## 📝 Google Forms 질문 생성 가이드

### 권장 질문 타입

| 필드 유형 | Google Forms 질문 타입 | 설정 |
|-----------|------------------------|------|
| 짧은 텍스트 (userId, timestamp, title 등) | **단답형** | 필수 응답 |
| 긴 텍스트 (tech, analysis, finalAppreciation 등) | **장문형** | 필수 응답 |
| 숫자 (점수) | **단답형** | 숫자만 입력 가능하도록 설정 |
| URL | **단답형** | URL 형식 검증 (선택사항) |

### 질문 순서 제안

Google Forms에서는 **입력 순서**대로 질문을 만드시면 됩니다:

1-2. 기본 정보 (자동 입력)
3-7. 악곡 정보
8-10. 1단계 감각적 감상
11-12. 2단계 분석적 감상
13-14. 3단계 심미적 감상
15-17. AI 점수
18-20. AI 피드백
21. 사용자 보완 입력
22-25. 최종 결과

---

## 🎯 실제 전송 예시 (JSON)

웹앱 완료 후 F12 콘솔에서 다음과 같은 데이터가 출력됩니다:

```json
{
  "userId": "user_1699876543210_abc123",
  "timestamp": "2024-11-10T15:30:45.123Z",
  "title": "마왕",
  "url": "https://www.youtube.com/watch?v=5XP5RP6OEJI",
  "artist": "디트리히 피셔-디스카우",
  "composer": "슈베르트",
  "musicGenre": "서양음악",
  "ensembleType1": "성악곡",
  "senseKeywords": "긴장, 쓸쓸함, 역동적",
  "senseText": "말발굽 소리가 들리며 불안감이 느껴집니다.",
  "senseColor": "#EF4444",
  "tech": "피아노가 셋잇단음표로 빠르게 반복됩니다.",
  "analysis": "셋잇단음표 패턴이 긴장감을 만듭니다.",
  "interpretation": "죽음과 공포를 상징하는 낭만주의 가곡입니다.",
  "evaluation": "성악과 피아노의 조화가 탁월합니다.",
  "senseScore": 85,
  "analysisScore": 72,
  "aestheticScore": 68,
  "goodPoints": "감각적 표현이 구체적입니다.",
  "badPoints": "화성 분석이 부족합니다.",
  "structuredQuestion": "마왕의 목소리는 왜 장조인가요?",
  "feedbackInput": "마왕의 장조는 아이를 유혹하기 위함입니다.",
  "finalAppreciation": "슈베르트의 마왕은 피아노 반주의...",
  "performanceStrategy": "리듬 패턴 연습을...",
  "appreciationStrategy": "화성 변화 집중하기...",
  "compositionStrategy": "반복 패턴 활용하기..."
}
```

---

## 📌 다음 단계

1. ✅ **웹앱 테스트** - `http://localhost:3000`에서 전체 프로세스 체험
2. ✅ **F12 콘솔 확인** - 실제 전송될 데이터 확인
3. 📝 **Google Forms 생성** - 위 27개 필드를 질문으로 추가
4. 🔍 **Entry Code 찾기** - `GOOGLE_FORMS_SETUP.md` 참고
5. 🔗 **Entry Code 알려주기** - 자동으로 `server.js` 업데이트

---

**웹앱을 먼저 테스트해보시고, 질문이 있으시면 언제든 말씀해주세요!** 🎵


